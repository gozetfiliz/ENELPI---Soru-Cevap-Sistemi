{"ast":null,"code":"var _jsxFileName = \"/Users/okanciftci/Desktop/github/TRNLPYARISMASI/ENELPI---Soru-Cevap-Sistemi/web/frontend/src/component/Bert.js\";\nimport React, { Component } from 'react';\nimport qa_api from '../qa_api';\n\nconst validateForm = errors => {\n  let valid = true;\n  Object.values(errors).forEach(val => val.length > 0 && (valid = false));\n  return valid;\n};\n\nclass Bert extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      e.preventDefault();\n      const {\n        question,\n        value\n      } = e.target;\n      let errors = this.state.errors;\n\n      switch (question) {\n        case 'question':\n          errors.question = value.length === 0 ? 'Litfen Sorunuzu Giriniz' : '';\n          break;\n\n        case 'context':\n          errors.context = value.length === 0 ? 'Lütfen Metni giriniz!' : '';\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      let answer = null;\n      e.preventDefault();\n      const {\n        question,\n        context\n      } = this.state;\n\n      if (document.mainForm.question.value === \"\") {\n        document.mainForm.question.focus();\n        return false;\n      } else if (document.mainForm.context.value === \"\") {\n        document.mainForm.context.focus();\n        return false;\n      } else {\n        const body = {\n          \"question\": question,\n          \"context\": context\n        };\n        const bert_endpoint = \"qa_bert\";\n        const response = await qa_api.post(`${bert_endpoint}`, body);\n\n        if (response.data != '') {\n          answer = response.data;\n        } else {\n          answer = \"Cevap bulunamadı.\";\n        }\n      }\n\n      console.log(answer);\n      this.setState({\n        \"answer\": answer\n      });\n    };\n\n    this.state = {\n      question: \"\",\n      context: \"\",\n      errors: {\n        question: \"\",\n        context: \"\",\n        answer: \"\"\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, \"BERT Modelimiz\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"containerr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      name: \"mainForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"boxx boxx-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, \"Soru\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"contactText\",\n      type: \"text\",\n      name: \"question\",\n      placeholder: \"Sorunuzu Giriniz\",\n      autoComplete: \"off\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }), errors.question.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 33\n      }\n    }, errors.question)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"boxx boxx-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }, \"Ba\\u011Flam\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"contactText\",\n      type: \"textarea\",\n      name: \"context\",\n      placeholder: \"Metni giriniz\",\n      autoComplete: \"off\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }), errors.context.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 59\n      }\n    }, errors.context)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 29\n      }\n    }, this.state.answer)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"boxx boxx-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"startButtonn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 29\n      }\n    }, \"G\\xD6NDER\")))));\n  }\n\n}\n\nexport default Bert;","map":{"version":3,"sources":["/Users/okanciftci/Desktop/github/TRNLPYARISMASI/ENELPI---Soru-Cevap-Sistemi/web/frontend/src/component/Bert.js"],"names":["React","Component","qa_api","validateForm","errors","valid","Object","values","forEach","val","length","Bert","constructor","props","handleChange","e","preventDefault","question","value","target","state","context","setState","name","handleSubmit","answer","document","mainForm","focus","body","bert_endpoint","response","post","data","console","log","bind","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport qa_api from '../qa_api'\n\nconst validateForm = (errors) => {\n    let valid = true;\n    Object.values(errors).forEach(\n        (val) => val.length > 0 && (valid = false)\n    );\n    return valid;\n}\n\nclass Bert extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            question: \"\",\n            context: \"\",\n            errors: {\n                question: \"\",\n                context: \"\",\n                answer: \"\",\n            }\n        }\n\n        this.handleChange = this.handleChange.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n    }\n\n    handleChange = e => {\n        e.preventDefault();\n        const { question, value } = e.target;\n        let errors = this.state.errors;\n\n        switch (question) {\n            case 'question':\n                errors.question = value.length === 0 ? 'Litfen Sorunuzu Giriniz' : '';\n                break;\n            case 'context':\n                errors.context = value.length === 0 ? 'Lütfen Metni giriniz!' : '';\n                break;\n            default:\n                break;\n        }\n\n        this.setState({ [e.target.name]: e.target.value })\n    }\n\n    handleSubmit = async (e) => {\n\n        let answer = null\n        e.preventDefault()\n        const { question, context } = this.state\n        if (document.mainForm.question.value === \"\") {\n            document.mainForm.question.focus();\n            return false;\n        }\n        else if(document.mainForm.context.value === \"\") {\n            document.mainForm.context.focus();\n            return false;\n        }\n        else {\n            const body = {\n              \"question\" : question,\n              \"context\" : context\n            };\n            const bert_endpoint = \"qa_bert\"\n            const response = await qa_api.post(`${bert_endpoint}`,body)\n            if(response.data != ''){\n              answer = response.data\n          }else{\n            answer = \"Cevap bulunamadı.\"\n          }\n        }\n        console.log(answer)\n        this.setState({\"answer\" : answer})\n\n    }\n\n    render() {\n        const { errors } = this.state;\n        return (\n            <div>\n                <div>\n                    <p className=\"title\">BERT Modelimiz</p>\n                </div>\n                <div className=\"containerr\">\n                    <form onSubmit={this.handleSubmit} name=\"mainForm\">\n                        <div className=\"boxx boxx-2\">\n                        <h5>Soru</h5>\n                            <input className=\"contactText\" type=\"text\" name=\"question\" placeholder=\"Sorunuzu Giriniz\"\n                                autoComplete=\"off\" onChange={this.handleChange} />\n                            {errors.question.length > 0 &&\n                                <span className='errorMessage'>{errors.question}</span>}\n                        </div>\n\n                        <div className=\"boxx boxx-2\">\n                        <h5>Bağlam</h5>\n                            <textarea className=\"contactText\" type=\"textarea\" name=\"context\" placeholder=\"Metni giriniz\"\n                                autoComplete=\"off\" onChange={this.handleChange} />\n                            <br />\n                            {errors.context.length > 0 && <span className='errorMessage'>{errors.context}</span>}\n                        </div>\n                        <div >\n                            <p className=\"middle\">{this.state.answer}</p>\n                        </div>\n                        <div className=\"boxx boxx-2\">\n                            <button className=\"startButtonn\">GÖNDER</button>\n                        </div>\n\n                    </form>\n                </div>\n            </div>\n\n        );\n    }\n}\n\nexport default Bert;\n"]},"metadata":{},"sourceType":"module"}